(()=>{var e={};e.id=405,e.ids=[405,888,660],e.modules={254:(e,t,r)=>{"use strict";r.r(t),r.d(t,{config:()=>P,default:()=>S,getServerSideProps:()=>v,getStaticPaths:()=>j,getStaticProps:()=>b,reportWebVitals:()=>y,routeModule:()=>D,unstable_getServerProps:()=>k,unstable_getServerSideProps:()=>C,unstable_getStaticParams:()=>A,unstable_getStaticPaths:()=>w,unstable_getStaticProps:()=>_});var n={};r.r(n),r.d(n,{default:()=>Home,getStaticProps:()=>getStaticProps});var o=r(93),a=r(244),i=r(323),s=r(209),l=r.n(s),c=r(913),p=r(997);let d=require("next/head");var u=r.n(d);let g={strapiUrl:"http://localhost:1337",apiToken:process.env.STRAPI_API_TOKEN||""},h=require("fs");var m=r.n(h),f=r(17),x=r.n(f);async function fetchHomepageContent(){try{let e=x().join(process.cwd(),"content.json");if(m().existsSync(e))try{let t=JSON.parse(m().readFileSync(e,"utf8"));if(t&&t.data&&Array.isArray(t.data)&&t.data.length>0){let e=t.data.sort((e,t)=>new Date(t.publishedAt).getTime()-new Date(e.publishedAt).getTime());return console.log("✅ Using pre-fetched content from content.json"),e[0]}}catch(e){console.log("⚠️ Could not read content.json, falling back to live fetch")}console.log("\uD83D\uDCE1 Attempting live fetch from Strapi...");let t=[`${g.strapiUrl}/api/homepage-contents?populate=*`,"http://127.0.0.1:1337/api/homepage-contents?populate=*","http://localhost:1337/api/homepage-contents?populate=*"];for(let e of t)try{let t=await fetch(e,{headers:{Authorization:`Bearer ${g.apiToken}`,"Content-Type":"application/json"},signal:AbortSignal.timeout(1e4)});if(t.ok){let r=await t.json();console.log("✅ Successfully fetched content from:",e);let n=r.data?.sort((e,t)=>new Date(t.publishedAt).getTime()-new Date(e.publishedAt).getTime());return n?.[0]||null}}catch(t){console.log(`❌ Failed to fetch from ${e}:`,t.message);continue}return console.log("⚠️ Could not fetch content from Strapi, using fallback content"),null}catch(e){return console.error("Error fetching homepage content:",e),null}}function Home({content:e}){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(u(),{children:[p.jsx("title",{children:"Next.js + Strapi Static Site"}),p.jsx("meta",{name:"description",content:"A static site generated with Next.js and Strapi"}),p.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),p.jsx("link",{rel:"icon",href:"/favicon.ico"})]}),p.jsx("main",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",fontFamily:"system-ui, sans-serif",backgroundColor:"#f8fafc",color:"#1e293b"},children:(0,p.jsxs)("div",{style:{maxWidth:"800px",textAlign:"center",backgroundColor:"white",padding:"3rem",borderRadius:"12px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},children:[p.jsx("h1",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"1rem",color:"#1e293b"},children:e?.title||"Hello World!"}),p.jsx("p",{style:{fontSize:"1.25rem",lineHeight:"1.6",color:"#64748b",marginBottom:"2rem"},children:e?.content||"This is a static site generated with Next.js and powered by Strapi CMS."}),(0,p.jsxs)("div",{style:{padding:"1rem",backgroundColor:"#f1f5f9",borderRadius:"8px",fontSize:"0.875rem",color:"#64748b"},children:[(0,p.jsxs)("p",{children:[p.jsx("strong",{children:"Last updated:"})," ",e?.updatedAt?new Date(e.updatedAt).toLocaleString():"Never"]}),(0,p.jsxs)("p",{children:[p.jsx("strong",{children:"Content ID:"})," ",e?.id||"N/A"]})]})]})})]})}let getStaticProps=async()=>{try{let e=await fetchHomepageContent();return{props:{content:e}}}catch(e){return console.error("Error in getStaticProps:",e),{props:{content:null}}}},S=(0,i.l)(n,"default"),b=(0,i.l)(n,"getStaticProps"),j=(0,i.l)(n,"getStaticPaths"),v=(0,i.l)(n,"getServerSideProps"),P=(0,i.l)(n,"config"),y=(0,i.l)(n,"reportWebVitals"),_=(0,i.l)(n,"unstable_getStaticProps"),w=(0,i.l)(n,"unstable_getStaticPaths"),A=(0,i.l)(n,"unstable_getStaticParams"),k=(0,i.l)(n,"unstable_getServerProps"),C=(0,i.l)(n,"unstable_getServerSideProps"),D=new o.PagesRouteModule({definition:{kind:a.x.PAGES,page:"/index",pathname:"/",bundlePath:"",filename:""},components:{App:c.default,Document:l()},userland:n})},913:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>App});var n=r(997);function App({Component:e,pageProps:t}){return n.jsx(e,{...t})}r(764)},764:()=>{},785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},689:e=>{"use strict";e.exports=require("react")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},17:e=>{"use strict";e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[209,450],()=>__webpack_exec__(254));module.exports=r})();